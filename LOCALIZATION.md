# 中文本地化说明

## 版本信息

- **本地化版本**: 1.3.2
- **完成日期**: 2025-11-01
- **语言**: 简体中文（zh-CN）

## 翻译对照表

### 命令和菜单

| 英文 | 中文 |
|------|------|
| Refresh | 刷新 |
| Search Tasks | 搜索任务 |
| Filter by Status | 按状态筛选 |
| Add Task | 添加任务 |
| Show Task Details | 显示任务详情 |
| Set Task Status | 设置任务状态 |
| Expand Task | 展开任务 |
| Show Next Task | 显示下一个任务 |
| Open PRD | 打开需求文档 |
| Start Working | 开始工作 |
| Add Subtask | 添加子任务 |
| Edit Task | 编辑任务 |
| Edit Title | 编辑标题 |
| Delete Task | 删除任务 |
| Change Priority | 更改优先级 |
| Set Dependencies | 设置依赖 |
| Copy Task Details | 复制任务详情 |
| Mark Completed | 标记为已完成 |
| Mark In Progress | 标记为进行中 |
| Mark Todo | 标记为待办 |
| Mark Blocked | 标记为已阻塞 |
| Expand All | 全部展开 |
| Task Master: Switch Tag | 任务管理：切换标签 |
| Task Master: Create Tag | 任务管理：创建标签 |
| Task Master: Delete Tag | 任务管理：删除标签 |
| Task Master: List Tags | 任务管理：列出标签 |

### 状态标签

| 英文 | 中文 |
|------|------|
| Todo | 待办 |
| Pending | 待办 |
| In Progress | 进行中 |
| Completed | 已完成 |
| Done | 已完成 |
| Blocked | 已阻塞 |
| Deferred | 已延期 |
| Cancelled | 已取消 |
| Review | 审核中 |

### 优先级标签

| 英文 | 中文 |
|------|------|
| Critical | 严重 |
| High | 高 |
| Medium | 中 |
| Low | 低 |

### 任务类型

| 英文 | 中文 |
|------|------|
| Main Task | 主任务 |
| Subtask | 子任务 |

### 面板分类

| 英文 | 中文 |
|------|------|
| CURRENT WORK | 当前工作 |
| NEXT TO WORK ON | 下一步工作 |
| Progress Overview | 进度概览 |
| Main Tasks | 主任务 |
| All Items | 全部项目 |
| By Priority | 按优先级 |
| By Category | 按分类 |
| By Status | 按状态 |

### 描述文本

| 英文 | 中文 |
|------|------|
| Task IDs only | 仅任务编号 |
| Including subtasks | 包含子任务 |
| Recommended next task based on dependencies | 基于依赖关系推荐的下一个任务 |

### 元数据字段

| 英文 | 中文 |
|------|------|
| Description | 描述 |
| Implementation Details | 实现详情 |
| Dependencies | 依赖 |
| Subtasks | 子任务 |
| Test Strategy | 测试策略 |
| Metadata | 元数据 |
| Status | 状态 |
| Priority | 优先级 |
| Type | 类型 |
| Progress | 进度 |
| Created | 创建时间 |
| Last Updated | 最后更新 |

### 按钮文本

| 英文 | 中文 |
|------|------|
| Update Status | 更新状态 |
| Expand Task | 展开任务 |
| Add Subtask | 添加子任务 |
| Start Working | 开始工作 |
| Delete | 删除 |
| Cancel | 取消 |
| Delete Tag | 删除标签 |
| Switch Tag | 切换标签 |
| Create New Tag | 创建新标签 |
| Close | 关闭 |
| Stay on Current Tag | 保持当前标签 |
| Switch to New Tag | 切换到新标签 |

### 表单提示

| 英文 | 中文 |
|------|------|
| Enter task title (required) | 输入任务标题（必填） |
| Enter task description (optional) | 输入任务描述（可选） |
| Enter subtask title (required) | 输入子任务标题（必填） |
| Enter subtask description (optional) | 输入子任务描述（可选） |
| Select task priority | 选择任务优先级 |
| Select task status | 选择任务状态 |
| Select subtask priority | 选择子任务优先级 |
| Select subtask status | 选择子任务状态 |
| Select dependencies (optional) | 选择依赖（可选） |
| Current status: X. Select new status: | 当前状态：X。选择新状态： |
| Current priority: X. Select new priority: | 当前优先级：X。选择新优先级： |

### 验证消息

| 英文 | 中文 |
|------|------|
| Task title is required | 任务标题为必填项 |
| Subtask title is required | 子任务标题为必填项 |
| Tag name cannot be empty | 标签名称不能为空 |
| Tag name cannot contain spaces | 标签名称不能包含空格 |
| Tag already exists | 标签已存在 |
| Tag name is too long | 标签名称过长 |

### 状态和优先级详情

#### 状态详情

| 英文 | 中文 |
|------|------|
| Not started | 尚未开始 |
| Currently working on | 正在处理 |
| Finished | 已结束 |
| Waiting on external dependency | 等待外部依赖 |
| Ready to work on (default) | 准备开始（默认） |
| Currently being worked on | 正在处理中 |
| Cannot proceed | 无法继续 |

#### 优先级详情

| 英文 | 中文 |
|------|------|
| Blocking other work | 阻塞其他工作 |
| Important and urgent | 重要且紧急 |
| Normal priority (default) | 正常优先级（默认） |
| Can wait | 可以等待 |

### 成功消息

| 英文 | 中文 |
|------|------|
| Task X marked as Y | 任务 X 已标记为 Y |
| Started working on Task X | 开始处理任务 X |
| Switched to tag: X | 已切换到标签：X |
| Tag 'X' created successfully | 标签 'X' 创建成功 |
| Tag 'X' deleted successfully | 标签 'X' 删除成功 |
| Task X priority changed to Y | 任务 X 优先级已更改为 Y |

### 错误和警告消息

| 英文 | 中文 |
|------|------|
| Failed to load task details | 加载任务详情失败 |
| Failed to expand task | 展开任务失败 |
| Failed to add subtask | 添加子任务失败 |
| Failed to update subtask | 更新子任务失败 |
| Failed to change status | 更改状态失败 |
| Failed to change priority | 更改优先级失败 |
| Failed to switch tag | 切换标签失败 |
| Failed to create tag | 创建标签失败 |
| Failed to delete tag | 删除标签失败 |
| Failed to list tags | 列出标签失败 |
| Failed to get next task | 获取下一个任务失败 |
| No PRD file found | 未找到需求文档文件 |
| No next task available | 没有可用的下一个任务 |
| Cannot add subtasks to subtask | 无法向子任务添加子任务 |

### 标签管理消息

| 英文 | 中文 |
|------|------|
| Current Tag: X | 当前标签：X |
| Available Tags | 可用标签 |
| Click to switch tags | 点击切换标签 |
| Click to manage tags | 点击管理标签 |
| Current tag | 当前标签 |
| Available tag | 可用标签 |
| Default tag | 默认标签 |
| ✓ Current tag | ✓ 当前标签 |

### 配置项描述

| 英文 | 中文 |
|------|------|
| Automatically refresh tasks when files change | 文件更改时自动刷新任务 |
| Path to the taskmaster directory (relative to workspace root) | taskmaster 目录路径（相对于工作区根目录） |
| Enable development mode with detailed logging | 启用详细日志的开发模式 |
| Enable console and output channel logging for debugging | 启用控制台和输出通道日志用于调试 |
| Enable file logging to logs/extension.log | 启用文件日志记录到 logs/extension.log（会在项目中创建文件） |
| Disable MCP integration (use file-based operations only) | 禁用 MCP 集成（仅使用基于文件的操作） |
| Prefer CLI over MCP when version mismatches are detected | 检测到 task-master 版本不匹配时优先使用 CLI 而非 MCP |
| How often to check for version compatibility | 版本兼容性检查频率（毫秒，默认 5 分钟） |

## 技术实现

### 双语匹配逻辑

为了保持兼容性和健壮性，所有分类匹配逻辑都支持中英文双语：

```typescript
// 状态匹配示例
if (normalizedLabel.includes('todo') || normalizedLabel.includes('待办')) {
    // 处理待办任务
}

// 优先级匹配示例
if (normalizedLabel.includes('high priority') || normalizedLabel.includes('高优先级')) {
    // 处理高优先级任务
}
```

### 状态和优先级映射

使用对象映射来保持翻译的一致性：

```typescript
// 状态标签映射
const statusLabels: Record<string, string> = {
    'todo': '待办',
    'in-progress': '进行中',
    'completed': '已完成',
    'blocked': '已阻塞',
    // ...
};

// 优先级标签映射
const priorityLabels: Record<string, string> = {
    'critical': '严重',
    'high': '高',
    'medium': '中',
    'low': '低'
};
```

## 注意事项

1. **技术术语保留**: MCP、CLI、PRD 等技术术语保持英文
2. **日志语言**: 开发日志保持英文以便调试
3. **兼容性**: 所有匹配逻辑支持中英文，确保向后兼容
4. **字符长度**: 翻译后的文本长度适合 UI 显示
5. **一致性**: 使用映射对象确保术语翻译的一致性

## 维护指南

### 添加新文本时

1. 在相应的映射对象中添加翻译
2. 在匹配逻辑中添加中文支持
3. 更新此文档的翻译对照表

### 修改翻译时

1. 搜索旧翻译文本的所有出现位置
2. 使用 replace_all 或提供足够上下文进行替换
3. 更新此文档

## 测试检查清单

- [ ] 命令面板中所有命令显示为中文
- [ ] 树视图中所有分类和标签显示为中文
- [ ] 任务详情页面所有文本显示为中文
- [ ] 表单输入提示显示为中文
- [ ] 状态选择器显示为中文
- [ ] 优先级选择器显示为中文
- [ ] 标签管理对话框显示为中文
- [ ] 错误和成功消息显示为中文
- [ ] 确认对话框显示为中文
- [ ] 状态栏工具提示显示为中文
- [ ] 配置项描述显示为中文

## 已翻译文件列表

1. ✅ `package.json` - UI 命令和配置
2. ✅ `src/extension.ts` - 用户交互消息和 HTML 模板
3. ✅ `src/taskProvider.ts` - 树视图标签和分类
4. ✅ `src/statusBar.ts` - 状态栏文本
5. ✅ `src/tagUtils.ts` - 标签工具函数
6. ✅ `src/taskMasterClient.ts` - 客户端消息（部分）

## 未翻译内容

以下内容保持英文：

1. **代码注释**: 开发者注释保持英文
2. **日志消息**: console.log 等调试日志保持英文
3. **技术术语**: MCP、CLI、PRD、JWT、API 等
4. **文件路径**: `.taskmaster`、`tasks.json` 等
5. **命令 ID**: `claudeTaskMaster.refresh` 等内部标识符

## 相关文档

- [CHANGELOG.md](CHANGELOG.md) - 版本更新日志
- [README.md](README.md) - 项目说明文档
- [RELEASE_NOTES_v1.3.0.md](RELEASE_NOTES_v1.3.0.md) - v1.3.0 发布说明

## 反馈和改进

如果发现翻译问题或有改进建议：

1. 在此文档中记录问题
2. 在相应的源文件中修改
3. 更新翻译对照表
4. 运行 `npm run compile` 验证
5. 更新版本号和 CHANGELOG.md

